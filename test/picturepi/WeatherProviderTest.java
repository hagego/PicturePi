package picturepi;

import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.Matchers.*;
import java.io.StringReader;
import java.net.URL;
import java.util.logging.LogManager;
import javax.json.Json;
import javax.json.JsonObject;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

class WeatherProviderTest {
	
	private WeatherProvider provider;
	
	@BeforeAll
	static void setUpBeforeClass() throws Exception {
		Configuration.getConfiguration().readConfigurationFile("conf/picturepitest.ini");
		System.setProperty( "java.util.logging.config.file", "conf/picturepitest.logging" );
		
		try {
			LogManager.getLogManager().readConfiguration();
		}
		catch ( Exception e ) {
			// unable to read logging configuration file
			e.printStackTrace();
		}
	}
	
	@BeforeEach
	void setUp() throws Exception {
		provider = new WeatherProvider();
	}

	@Test
	void testCreateUrl() {
		assertThat(provider.buildUrl(), is(not(nullValue())));
	}
	
	@Test
	void testGetForecastAsJsonObject() {
		URL url = provider.buildUrl();
		assertThat(url, is(not(nullValue())));
		JsonObject jsonObject = provider.getForecastAsJsonObject(url);
		assertThat(jsonObject, is(not(nullValue())));
		assertThat(provider.parseForecastFromJsonObject(jsonObject),is(true));
	}
	
	@Test
	void testParseForecastFromJsonObjectSuccess() {
		JsonObject jsonObject = Json.createReaderFactory(null).createReader(new StringReader(responseGood)).readObject();
		assertThat(provider.parseForecastFromJsonObject(jsonObject),is(true));
	}
	
	@Test
	void testParseForecastFromJsonObjectNoDate() {
		JsonObject jsonObject = Json.createReaderFactory(null).createReader(new StringReader(responseNoDate)).readObject();
		assertThat(provider.parseForecastFromJsonObject(jsonObject),is(false));
	}
	
	@Test
	void testParseForecastFromJsonObjectNoTemp() {
		JsonObject jsonObject = Json.createReaderFactory(null).createReader(new StringReader(responseNoTemp)).readObject();
		assertThat(provider.parseForecastFromJsonObject(jsonObject),is(false));
	}
	
	@Test
	void testParseForecastFromJsonObjectNoMin() {
		JsonObject jsonObject = Json.createReaderFactory(null).createReader(new StringReader(responseNoMin)).readObject();
		assertThat(provider.parseForecastFromJsonObject(jsonObject),is(false));
	}
	
	@Test
	void testParseForecastFromJsonObjectNoMax() {
		JsonObject jsonObject = Json.createReaderFactory(null).createReader(new StringReader(responseNoMax)).readObject();
		assertThat(provider.parseForecastFromJsonObject(jsonObject),is(false));
	}
	
	@Test
	void testParseForecastFromJsonObjectNoIcon() {
		JsonObject jsonObject = Json.createReaderFactory(null).createReader(new StringReader(responseNoIcon)).readObject();
		assertThat(provider.parseForecastFromJsonObject(jsonObject),is(false));
	}
	
	
	static final String responseGood    = "{\"lat\":48.6347,\"lon\":9.326,\"timezone\":\"Europe/Berlin\",\"timezone_offset\":3600,\"daily\":[{\"dt\":1611399600,\"sunrise\":1611385374,\"sunset\":1611417953,\"temp\":{\"day\":277.25,\"min\":274.31,\"max\":277.73,\"night\":275.14,\"eve\":274.8,\"morn\":274.62},\"feels_like\":{\"day\":273.96,\"night\":271.34,\"eve\":270.93,\"morn\":269.46},\"pressure\":1000,\"humidity\":76,\"dew_point\":273.51,\"wind_speed\":1.92,\"wind_deg\":195,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":98,\"pop\":1,\"rain\":1.36,\"snow\":9.22,\"uvi\":0.65},{\"dt\":1611486000,\"sunrise\":1611471711,\"sunset\":1611504447,\"temp\":{\"day\":274.43,\"min\":270.84,\"max\":275.56,\"night\":270.92,\"eve\":272.15,\"morn\":273.42},\"feels_like\":{\"day\":267.88,\"night\":266.71,\"eve\":268.13,\"morn\":266.43},\"pressure\":1004,\"humidity\":85,\"dew_point\":269.42,\"wind_speed\":6.33,\"wind_deg\":257,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":64,\"pop\":0.92,\"rain\":0.61,\"snow\":1.75,\"uvi\":0.83},{\"dt\":1611572400,\"sunrise\":1611558046,\"sunset\":1611590941,\"temp\":{\"day\":274.17,\"min\":271.13,\"max\":274.77,\"night\":271.85,\"eve\":272.91,\"morn\":273.19},\"feels_like\":{\"day\":267.8,\"night\":266.38,\"eve\":267.62,\"morn\":268.57},\"pressure\":1003,\"humidity\":92,\"dew_point\":272.78,\"wind_speed\":6.23,\"wind_deg\":264,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"snow\":5.3,\"uvi\":0.53},{\"dt\":1611658800,\"sunrise\":1611644379,\"sunset\":1611677436,\"temp\":{\"day\":274.9,\"min\":271.78,\"max\":274.9,\"night\":273.22,\"eve\":273.36,\"morn\":272.32},\"feels_like\":{\"day\":269.82,\"night\":268.98,\"eve\":269.15,\"morn\":268.2},\"pressure\":1017,\"humidity\":87,\"dew_point\":272.94,\"wind_speed\":4.39,\"wind_deg\":259,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":0.97,\"snow\":5.1,\"uvi\":0.77},{\"dt\":1611745200,\"sunrise\":1611730709,\"sunset\":1611763932,\"temp\":{\"day\":276.72,\"min\":271.59,\"max\":278.38,\"night\":278.38,\"eve\":277.62,\"morn\":272.86},\"feels_like\":{\"day\":271.07,\"night\":273.75,\"eve\":272.8,\"morn\":268.86},\"pressure\":1017,\"humidity\":86,\"dew_point\":274.68,\"wind_speed\":5.55,\"wind_deg\":240,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"rain\":2.76,\"snow\":0.56,\"uvi\":0.14},{\"dt\":1611831600,\"sunrise\":1611817038,\"sunset\":1611850428,\"temp\":{\"day\":282.85,\"min\":279.41,\"max\":283.06,\"night\":282.43,\"eve\":283.06,\"morn\":281.71},\"feels_like\":{\"day\":277.33,\"night\":277.54,\"eve\":276.25,\"morn\":275.02},\"pressure\":1008,\"humidity\":83,\"dew_point\":280.15,\"wind_speed\":6.87,\"wind_deg\":249,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":100,\"pop\":1,\"rain\":16.77,\"uvi\":1},{\"dt\":1611918000,\"sunrise\":1611903364,\"sunset\":1611936925,\"temp\":{\"day\":282.56,\"min\":280.94,\"max\":285.25,\"night\":280.94,\"eve\":281.28,\"morn\":282.67},\"feels_like\":{\"day\":275.79,\"night\":275.47,\"eve\":274.47,\"morn\":277.76},\"pressure\":1005,\"humidity\":73,\"dew_point\":278.06,\"wind_speed\":8.01,\"wind_deg\":278,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":98,\"pop\":1,\"rain\":13.81,\"uvi\":1},{\"dt\":1612004400,\"sunrise\":1611989688,\"sunset\":1612023423,\"temp\":{\"day\":286.86,\"min\":280.18,\"max\":286.86,\"night\":283.09,\"eve\":283.74,\"morn\":280.78},\"feels_like\":{\"day\":283.27,\"night\":280.12,\"eve\":280.69,\"morn\":278.23},\"pressure\":1001,\"humidity\":65,\"dew_point\":280.57,\"wind_speed\":4.21,\"wind_deg\":183,\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":92,\"pop\":0.58,\"rain\":1.6,\"uvi\":1}]}";
	static final String responseNoDate  = "{\"lat\":48.6347,\"lon\":9.326,\"timezone\":\"Europe/Berlin\",\"timezone_offset\":3600,\"daily\":[{\"sunrise\":1611385374,\"sunset\":1611417953,\"temp\":{\"day\":277.25,\"min\":274.31,\"max\":277.73,\"night\":275.14,\"eve\":274.8,\"morn\":274.62},\"feels_like\":{\"day\":273.96,\"night\":271.34,\"eve\":270.93,\"morn\":269.46},\"pressure\":1000,\"humidity\":76,\"dew_point\":273.51,\"wind_speed\":1.92,\"wind_deg\":195,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":98,\"pop\":1,\"rain\":1.36,\"snow\":9.22,\"uvi\":0.65},{\"dt\":1611486000,\"sunrise\":1611471711,\"sunset\":1611504447,\"temp\":{\"day\":274.43,\"min\":270.84,\"max\":275.56,\"night\":270.92,\"eve\":272.15,\"morn\":273.42},\"feels_like\":{\"day\":267.88,\"night\":266.71,\"eve\":268.13,\"morn\":266.43},\"pressure\":1004,\"humidity\":85,\"dew_point\":269.42,\"wind_speed\":6.33,\"wind_deg\":257,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":64,\"pop\":0.92,\"rain\":0.61,\"snow\":1.75,\"uvi\":0.83},{\"dt\":1611572400,\"sunrise\":1611558046,\"sunset\":1611590941,\"temp\":{\"day\":274.17,\"min\":271.13,\"max\":274.77,\"night\":271.85,\"eve\":272.91,\"morn\":273.19},\"feels_like\":{\"day\":267.8,\"night\":266.38,\"eve\":267.62,\"morn\":268.57},\"pressure\":1003,\"humidity\":92,\"dew_point\":272.78,\"wind_speed\":6.23,\"wind_deg\":264,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"snow\":5.3,\"uvi\":0.53},{\"dt\":1611658800,\"sunrise\":1611644379,\"sunset\":1611677436,\"temp\":{\"day\":274.9,\"min\":271.78,\"max\":274.9,\"night\":273.22,\"eve\":273.36,\"morn\":272.32},\"feels_like\":{\"day\":269.82,\"night\":268.98,\"eve\":269.15,\"morn\":268.2},\"pressure\":1017,\"humidity\":87,\"dew_point\":272.94,\"wind_speed\":4.39,\"wind_deg\":259,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":0.97,\"snow\":5.1,\"uvi\":0.77},{\"dt\":1611745200,\"sunrise\":1611730709,\"sunset\":1611763932,\"temp\":{\"day\":276.72,\"min\":271.59,\"max\":278.38,\"night\":278.38,\"eve\":277.62,\"morn\":272.86},\"feels_like\":{\"day\":271.07,\"night\":273.75,\"eve\":272.8,\"morn\":268.86},\"pressure\":1017,\"humidity\":86,\"dew_point\":274.68,\"wind_speed\":5.55,\"wind_deg\":240,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"rain\":2.76,\"snow\":0.56,\"uvi\":0.14},{\"dt\":1611831600,\"sunrise\":1611817038,\"sunset\":1611850428,\"temp\":{\"day\":282.85,\"min\":279.41,\"max\":283.06,\"night\":282.43,\"eve\":283.06,\"morn\":281.71},\"feels_like\":{\"day\":277.33,\"night\":277.54,\"eve\":276.25,\"morn\":275.02},\"pressure\":1008,\"humidity\":83,\"dew_point\":280.15,\"wind_speed\":6.87,\"wind_deg\":249,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":100,\"pop\":1,\"rain\":16.77,\"uvi\":1},{\"dt\":1611918000,\"sunrise\":1611903364,\"sunset\":1611936925,\"temp\":{\"day\":282.56,\"min\":280.94,\"max\":285.25,\"night\":280.94,\"eve\":281.28,\"morn\":282.67},\"feels_like\":{\"day\":275.79,\"night\":275.47,\"eve\":274.47,\"morn\":277.76},\"pressure\":1005,\"humidity\":73,\"dew_point\":278.06,\"wind_speed\":8.01,\"wind_deg\":278,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":98,\"pop\":1,\"rain\":13.81,\"uvi\":1},{\"dt\":1612004400,\"sunrise\":1611989688,\"sunset\":1612023423,\"temp\":{\"day\":286.86,\"min\":280.18,\"max\":286.86,\"night\":283.09,\"eve\":283.74,\"morn\":280.78},\"feels_like\":{\"day\":283.27,\"night\":280.12,\"eve\":280.69,\"morn\":278.23},\"pressure\":1001,\"humidity\":65,\"dew_point\":280.57,\"wind_speed\":4.21,\"wind_deg\":183,\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":92,\"pop\":0.58,\"rain\":1.6,\"uvi\":1}]}";
	static final String responseNoTemp  = "{\"lat\":48.6347,\"lon\":9.326,\"timezone\":\"Europe/Berlin\",\"timezone_offset\":3600,\"daily\":[{\"dt\":1611399600,\"sunrise\":1611385374,\"sunset\":1611417953,\"pressure\":1000,\"humidity\":76,\"dew_point\":273.51,\"wind_speed\":1.92,\"wind_deg\":195,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":98,\"pop\":1,\"rain\":1.36,\"snow\":9.22,\"uvi\":0.65},{\"dt\":1611486000,\"sunrise\":1611471711,\"sunset\":1611504447,\"temp\":{\"day\":274.43,\"min\":270.84,\"max\":275.56,\"night\":270.92,\"eve\":272.15,\"morn\":273.42},\"feels_like\":{\"day\":267.88,\"night\":266.71,\"eve\":268.13,\"morn\":266.43},\"pressure\":1004,\"humidity\":85,\"dew_point\":269.42,\"wind_speed\":6.33,\"wind_deg\":257,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":64,\"pop\":0.92,\"rain\":0.61,\"snow\":1.75,\"uvi\":0.83},{\"dt\":1611572400,\"sunrise\":1611558046,\"sunset\":1611590941,\"temp\":{\"day\":274.17,\"min\":271.13,\"max\":274.77,\"night\":271.85,\"eve\":272.91,\"morn\":273.19},\"feels_like\":{\"day\":267.8,\"night\":266.38,\"eve\":267.62,\"morn\":268.57},\"pressure\":1003,\"humidity\":92,\"dew_point\":272.78,\"wind_speed\":6.23,\"wind_deg\":264,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"snow\":5.3,\"uvi\":0.53},{\"dt\":1611658800,\"sunrise\":1611644379,\"sunset\":1611677436,\"temp\":{\"day\":274.9,\"min\":271.78,\"max\":274.9,\"night\":273.22,\"eve\":273.36,\"morn\":272.32},\"feels_like\":{\"day\":269.82,\"night\":268.98,\"eve\":269.15,\"morn\":268.2},\"pressure\":1017,\"humidity\":87,\"dew_point\":272.94,\"wind_speed\":4.39,\"wind_deg\":259,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":0.97,\"snow\":5.1,\"uvi\":0.77},{\"dt\":1611745200,\"sunrise\":1611730709,\"sunset\":1611763932,\"temp\":{\"day\":276.72,\"min\":271.59,\"max\":278.38,\"night\":278.38,\"eve\":277.62,\"morn\":272.86},\"feels_like\":{\"day\":271.07,\"night\":273.75,\"eve\":272.8,\"morn\":268.86},\"pressure\":1017,\"humidity\":86,\"dew_point\":274.68,\"wind_speed\":5.55,\"wind_deg\":240,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"rain\":2.76,\"snow\":0.56,\"uvi\":0.14},{\"dt\":1611831600,\"sunrise\":1611817038,\"sunset\":1611850428,\"temp\":{\"day\":282.85,\"min\":279.41,\"max\":283.06,\"night\":282.43,\"eve\":283.06,\"morn\":281.71},\"feels_like\":{\"day\":277.33,\"night\":277.54,\"eve\":276.25,\"morn\":275.02},\"pressure\":1008,\"humidity\":83,\"dew_point\":280.15,\"wind_speed\":6.87,\"wind_deg\":249,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":100,\"pop\":1,\"rain\":16.77,\"uvi\":1},{\"dt\":1611918000,\"sunrise\":1611903364,\"sunset\":1611936925,\"temp\":{\"day\":282.56,\"min\":280.94,\"max\":285.25,\"night\":280.94,\"eve\":281.28,\"morn\":282.67},\"feels_like\":{\"day\":275.79,\"night\":275.47,\"eve\":274.47,\"morn\":277.76},\"pressure\":1005,\"humidity\":73,\"dew_point\":278.06,\"wind_speed\":8.01,\"wind_deg\":278,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":98,\"pop\":1,\"rain\":13.81,\"uvi\":1},{\"dt\":1612004400,\"sunrise\":1611989688,\"sunset\":1612023423,\"temp\":{\"day\":286.86,\"min\":280.18,\"max\":286.86,\"night\":283.09,\"eve\":283.74,\"morn\":280.78},\"feels_like\":{\"day\":283.27,\"night\":280.12,\"eve\":280.69,\"morn\":278.23},\"pressure\":1001,\"humidity\":65,\"dew_point\":280.57,\"wind_speed\":4.21,\"wind_deg\":183,\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":92,\"pop\":0.58,\"rain\":1.6,\"uvi\":1}]}";
	static final String responseNoMin   = "{\"lat\":48.6347,\"lon\":9.326,\"timezone\":\"Europe/Berlin\",\"timezone_offset\":3600,\"daily\":[{\"dt\":1611399600,\"sunrise\":1611385374,\"sunset\":1611417953,\"temp\":{\"day\":277.25,\"max\":277.73,\"night\":275.14,\"eve\":274.8,\"morn\":274.62},\"feels_like\":{\"day\":273.96,\"night\":271.34,\"eve\":270.93,\"morn\":269.46},\"pressure\":1000,\"humidity\":76,\"dew_point\":273.51,\"wind_speed\":1.92,\"wind_deg\":195,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":98,\"pop\":1,\"rain\":1.36,\"snow\":9.22,\"uvi\":0.65},{\"dt\":1611486000,\"sunrise\":1611471711,\"sunset\":1611504447,\"temp\":{\"day\":274.43,\"min\":270.84,\"max\":275.56,\"night\":270.92,\"eve\":272.15,\"morn\":273.42},\"feels_like\":{\"day\":267.88,\"night\":266.71,\"eve\":268.13,\"morn\":266.43},\"pressure\":1004,\"humidity\":85,\"dew_point\":269.42,\"wind_speed\":6.33,\"wind_deg\":257,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":64,\"pop\":0.92,\"rain\":0.61,\"snow\":1.75,\"uvi\":0.83},{\"dt\":1611572400,\"sunrise\":1611558046,\"sunset\":1611590941,\"temp\":{\"day\":274.17,\"min\":271.13,\"max\":274.77,\"night\":271.85,\"eve\":272.91,\"morn\":273.19},\"feels_like\":{\"day\":267.8,\"night\":266.38,\"eve\":267.62,\"morn\":268.57},\"pressure\":1003,\"humidity\":92,\"dew_point\":272.78,\"wind_speed\":6.23,\"wind_deg\":264,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"snow\":5.3,\"uvi\":0.53},{\"dt\":1611658800,\"sunrise\":1611644379,\"sunset\":1611677436,\"temp\":{\"day\":274.9,\"min\":271.78,\"max\":274.9,\"night\":273.22,\"eve\":273.36,\"morn\":272.32},\"feels_like\":{\"day\":269.82,\"night\":268.98,\"eve\":269.15,\"morn\":268.2},\"pressure\":1017,\"humidity\":87,\"dew_point\":272.94,\"wind_speed\":4.39,\"wind_deg\":259,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":0.97,\"snow\":5.1,\"uvi\":0.77},{\"dt\":1611745200,\"sunrise\":1611730709,\"sunset\":1611763932,\"temp\":{\"day\":276.72,\"min\":271.59,\"max\":278.38,\"night\":278.38,\"eve\":277.62,\"morn\":272.86},\"feels_like\":{\"day\":271.07,\"night\":273.75,\"eve\":272.8,\"morn\":268.86},\"pressure\":1017,\"humidity\":86,\"dew_point\":274.68,\"wind_speed\":5.55,\"wind_deg\":240,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"rain\":2.76,\"snow\":0.56,\"uvi\":0.14},{\"dt\":1611831600,\"sunrise\":1611817038,\"sunset\":1611850428,\"temp\":{\"day\":282.85,\"min\":279.41,\"max\":283.06,\"night\":282.43,\"eve\":283.06,\"morn\":281.71},\"feels_like\":{\"day\":277.33,\"night\":277.54,\"eve\":276.25,\"morn\":275.02},\"pressure\":1008,\"humidity\":83,\"dew_point\":280.15,\"wind_speed\":6.87,\"wind_deg\":249,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":100,\"pop\":1,\"rain\":16.77,\"uvi\":1},{\"dt\":1611918000,\"sunrise\":1611903364,\"sunset\":1611936925,\"temp\":{\"day\":282.56,\"min\":280.94,\"max\":285.25,\"night\":280.94,\"eve\":281.28,\"morn\":282.67},\"feels_like\":{\"day\":275.79,\"night\":275.47,\"eve\":274.47,\"morn\":277.76},\"pressure\":1005,\"humidity\":73,\"dew_point\":278.06,\"wind_speed\":8.01,\"wind_deg\":278,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":98,\"pop\":1,\"rain\":13.81,\"uvi\":1},{\"dt\":1612004400,\"sunrise\":1611989688,\"sunset\":1612023423,\"temp\":{\"day\":286.86,\"min\":280.18,\"max\":286.86,\"night\":283.09,\"eve\":283.74,\"morn\":280.78},\"feels_like\":{\"day\":283.27,\"night\":280.12,\"eve\":280.69,\"morn\":278.23},\"pressure\":1001,\"humidity\":65,\"dew_point\":280.57,\"wind_speed\":4.21,\"wind_deg\":183,\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":92,\"pop\":0.58,\"rain\":1.6,\"uvi\":1}]}";
	static final String responseNoMax   = "{\"lat\":48.6347,\"lon\":9.326,\"timezone\":\"Europe/Berlin\",\"timezone_offset\":3600,\"daily\":[{\"dt\":1611399600,\"sunrise\":1611385374,\"sunset\":1611417953,\"temp\":{\"day\":277.25,\"min\":274.31,\"night\":275.14,\"eve\":274.8,\"morn\":274.62},\"feels_like\":{\"day\":273.96,\"night\":271.34,\"eve\":270.93,\"morn\":269.46},\"pressure\":1000,\"humidity\":76,\"dew_point\":273.51,\"wind_speed\":1.92,\"wind_deg\":195,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":98,\"pop\":1,\"rain\":1.36,\"snow\":9.22,\"uvi\":0.65},{\"dt\":1611486000,\"sunrise\":1611471711,\"sunset\":1611504447,\"temp\":{\"day\":274.43,\"min\":270.84,\"max\":275.56,\"night\":270.92,\"eve\":272.15,\"morn\":273.42},\"feels_like\":{\"day\":267.88,\"night\":266.71,\"eve\":268.13,\"morn\":266.43},\"pressure\":1004,\"humidity\":85,\"dew_point\":269.42,\"wind_speed\":6.33,\"wind_deg\":257,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":64,\"pop\":0.92,\"rain\":0.61,\"snow\":1.75,\"uvi\":0.83},{\"dt\":1611572400,\"sunrise\":1611558046,\"sunset\":1611590941,\"temp\":{\"day\":274.17,\"min\":271.13,\"max\":274.77,\"night\":271.85,\"eve\":272.91,\"morn\":273.19},\"feels_like\":{\"day\":267.8,\"night\":266.38,\"eve\":267.62,\"morn\":268.57},\"pressure\":1003,\"humidity\":92,\"dew_point\":272.78,\"wind_speed\":6.23,\"wind_deg\":264,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"snow\":5.3,\"uvi\":0.53},{\"dt\":1611658800,\"sunrise\":1611644379,\"sunset\":1611677436,\"temp\":{\"day\":274.9,\"min\":271.78,\"max\":274.9,\"night\":273.22,\"eve\":273.36,\"morn\":272.32},\"feels_like\":{\"day\":269.82,\"night\":268.98,\"eve\":269.15,\"morn\":268.2},\"pressure\":1017,\"humidity\":87,\"dew_point\":272.94,\"wind_speed\":4.39,\"wind_deg\":259,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":0.97,\"snow\":5.1,\"uvi\":0.77},{\"dt\":1611745200,\"sunrise\":1611730709,\"sunset\":1611763932,\"temp\":{\"day\":276.72,\"min\":271.59,\"max\":278.38,\"night\":278.38,\"eve\":277.62,\"morn\":272.86},\"feels_like\":{\"day\":271.07,\"night\":273.75,\"eve\":272.8,\"morn\":268.86},\"pressure\":1017,\"humidity\":86,\"dew_point\":274.68,\"wind_speed\":5.55,\"wind_deg\":240,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"rain\":2.76,\"snow\":0.56,\"uvi\":0.14},{\"dt\":1611831600,\"sunrise\":1611817038,\"sunset\":1611850428,\"temp\":{\"day\":282.85,\"min\":279.41,\"max\":283.06,\"night\":282.43,\"eve\":283.06,\"morn\":281.71},\"feels_like\":{\"day\":277.33,\"night\":277.54,\"eve\":276.25,\"morn\":275.02},\"pressure\":1008,\"humidity\":83,\"dew_point\":280.15,\"wind_speed\":6.87,\"wind_deg\":249,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":100,\"pop\":1,\"rain\":16.77,\"uvi\":1},{\"dt\":1611918000,\"sunrise\":1611903364,\"sunset\":1611936925,\"temp\":{\"day\":282.56,\"min\":280.94,\"max\":285.25,\"night\":280.94,\"eve\":281.28,\"morn\":282.67},\"feels_like\":{\"day\":275.79,\"night\":275.47,\"eve\":274.47,\"morn\":277.76},\"pressure\":1005,\"humidity\":73,\"dew_point\":278.06,\"wind_speed\":8.01,\"wind_deg\":278,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":98,\"pop\":1,\"rain\":13.81,\"uvi\":1},{\"dt\":1612004400,\"sunrise\":1611989688,\"sunset\":1612023423,\"temp\":{\"day\":286.86,\"min\":280.18,\"max\":286.86,\"night\":283.09,\"eve\":283.74,\"morn\":280.78},\"feels_like\":{\"day\":283.27,\"night\":280.12,\"eve\":280.69,\"morn\":278.23},\"pressure\":1001,\"humidity\":65,\"dew_point\":280.57,\"wind_speed\":4.21,\"wind_deg\":183,\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":92,\"pop\":0.58,\"rain\":1.6,\"uvi\":1}]}";
	static final String responseNoIcon  = "{\"lat\":48.6347,\"lon\":9.326,\"timezone\":\"Europe/Berlin\",\"timezone_offset\":3600,\"daily\":[{\"dt\":1611399600,\"sunrise\":1611385374,\"sunset\":1611417953,\"temp\":{\"day\":277.25,\"min\":274.31,\"max\":277.73,\"night\":275.14,\"eve\":274.8,\"morn\":274.62},\"feels_like\":{\"day\":273.96,\"night\":271.34,\"eve\":270.93,\"morn\":269.46},\"pressure\":1000,\"humidity\":76,\"dew_point\":273.51,\"wind_speed\":1.92,\"wind_deg\":195,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\"}],\"clouds\":98,\"pop\":1,\"rain\":1.36,\"snow\":9.22,\"uvi\":0.65},{\"dt\":1611486000,\"sunrise\":1611471711,\"sunset\":1611504447,\"temp\":{\"day\":274.43,\"min\":270.84,\"max\":275.56,\"night\":270.92,\"eve\":272.15,\"morn\":273.42},\"feels_like\":{\"day\":267.88,\"night\":266.71,\"eve\":268.13,\"morn\":266.43},\"pressure\":1004,\"humidity\":85,\"dew_point\":269.42,\"wind_speed\":6.33,\"wind_deg\":257,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":64,\"pop\":0.92,\"rain\":0.61,\"snow\":1.75,\"uvi\":0.83},{\"dt\":1611572400,\"sunrise\":1611558046,\"sunset\":1611590941,\"temp\":{\"day\":274.17,\"min\":271.13,\"max\":274.77,\"night\":271.85,\"eve\":272.91,\"morn\":273.19},\"feels_like\":{\"day\":267.8,\"night\":266.38,\"eve\":267.62,\"morn\":268.57},\"pressure\":1003,\"humidity\":92,\"dew_point\":272.78,\"wind_speed\":6.23,\"wind_deg\":264,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"snow\":5.3,\"uvi\":0.53},{\"dt\":1611658800,\"sunrise\":1611644379,\"sunset\":1611677436,\"temp\":{\"day\":274.9,\"min\":271.78,\"max\":274.9,\"night\":273.22,\"eve\":273.36,\"morn\":272.32},\"feels_like\":{\"day\":269.82,\"night\":268.98,\"eve\":269.15,\"morn\":268.2},\"pressure\":1017,\"humidity\":87,\"dew_point\":272.94,\"wind_speed\":4.39,\"wind_deg\":259,\"weather\":[{\"id\":601,\"main\":\"Snow\",\"description\":\"snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":0.97,\"snow\":5.1,\"uvi\":0.77},{\"dt\":1611745200,\"sunrise\":1611730709,\"sunset\":1611763932,\"temp\":{\"day\":276.72,\"min\":271.59,\"max\":278.38,\"night\":278.38,\"eve\":277.62,\"morn\":272.86},\"feels_like\":{\"day\":271.07,\"night\":273.75,\"eve\":272.8,\"morn\":268.86},\"pressure\":1017,\"humidity\":86,\"dew_point\":274.68,\"wind_speed\":5.55,\"wind_deg\":240,\"weather\":[{\"id\":616,\"main\":\"Snow\",\"description\":\"rain and snow\",\"icon\":\"13d\"}],\"clouds\":100,\"pop\":1,\"rain\":2.76,\"snow\":0.56,\"uvi\":0.14},{\"dt\":1611831600,\"sunrise\":1611817038,\"sunset\":1611850428,\"temp\":{\"day\":282.85,\"min\":279.41,\"max\":283.06,\"night\":282.43,\"eve\":283.06,\"morn\":281.71},\"feels_like\":{\"day\":277.33,\"night\":277.54,\"eve\":276.25,\"morn\":275.02},\"pressure\":1008,\"humidity\":83,\"dew_point\":280.15,\"wind_speed\":6.87,\"wind_deg\":249,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":100,\"pop\":1,\"rain\":16.77,\"uvi\":1},{\"dt\":1611918000,\"sunrise\":1611903364,\"sunset\":1611936925,\"temp\":{\"day\":282.56,\"min\":280.94,\"max\":285.25,\"night\":280.94,\"eve\":281.28,\"morn\":282.67},\"feels_like\":{\"day\":275.79,\"night\":275.47,\"eve\":274.47,\"morn\":277.76},\"pressure\":1005,\"humidity\":73,\"dew_point\":278.06,\"wind_speed\":8.01,\"wind_deg\":278,\"weather\":[{\"id\":501,\"main\":\"Rain\",\"description\":\"moderate rain\",\"icon\":\"10d\"}],\"clouds\":98,\"pop\":1,\"rain\":13.81,\"uvi\":1},{\"dt\":1612004400,\"sunrise\":1611989688,\"sunset\":1612023423,\"temp\":{\"day\":286.86,\"min\":280.18,\"max\":286.86,\"night\":283.09,\"eve\":283.74,\"morn\":280.78},\"feels_like\":{\"day\":283.27,\"night\":280.12,\"eve\":280.69,\"morn\":278.23},\"pressure\":1001,\"humidity\":65,\"dew_point\":280.57,\"wind_speed\":4.21,\"wind_deg\":183,\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":92,\"pop\":0.58,\"rain\":1.6,\"uvi\":1}]}";
}
